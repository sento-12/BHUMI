<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>
    <link rel="stylesheet" href="admin.css">
    <script src="https://kit.fontawesome.com/b4761c8186.js"
      crossorigin="anonymous"></script>
  </head>
  <body>
  
   
      <div class="container">
        <i class="fa-solid fa-circle-user"></i>
        <input type="text" id="username" placeholder="Username">
        <div id="err-user" style="color: red;"></div>
        <input type="password" id="password" placeholder="Password">
        <div id="err-pass" style="color: red;"></div>
        <input type="submit" id="loginBtn" onclick="return(check())">
      </div>

   <script>
    function check(){
      var username = document.getElementById("username").value;
      var password = document.getElementById("password").value;

    const admin = {
      username : username,
       password: password
    }
    
    
    //validation
  
if (username.trim() === '') {
document.getElementById("err-user").innerHTML = 'Username cannot be empty';
return false;
}else{
document.getElementById("err-user").innerHTML = '';
}
  if (password.trim() === '') {
    document.getElementById("err-pass").innerHTML = 'Password cannot be empty';
    return false;
  }else{
    document.getElementById("err-pass").innerHTML = '';
  }

  fetch("http://127.0.0.1:3000/admin/login", {
    method : "POST",
    headers : {
      "Content-type" : "application/json"
     },
     body: JSON.stringify(admin)
   })  
 
  
  
  if(username !== 'admin'){
    document.getElementById("err-user").innerHTML = 'Enter correct username';
    return false;
  }else{
    document.getElementById("err-user").innerHTML = ' ';    
  }
  
  if(password !== 'bhumi@1234'){
    document.getElementById("err-pass").innerHTML = 'enter correect password'; 
    return false;
  }else{
    document.getElementById("err-pass").innerHTML = '';
    window.location.href = '../public/ad_pannel.html';
  }

  }
   </script>
  </body>
</html>
